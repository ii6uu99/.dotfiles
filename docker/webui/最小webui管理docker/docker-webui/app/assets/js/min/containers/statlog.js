!function t(e,a,n){function r(c,o){if(!a[c]){if(!e[c]){var u="function"==typeof require&&require;if(!o&&u)return u(c,!0);if(s)return s(c,!0);var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l}var i=a[c]={exports:{}};e[c][0].call(i.exports,function(t){var a=e[c][1][t];return r(a?a:t)},i,i.exports,t,e,a,n)}return a[c].exports}for(var s="function"==typeof require&&require,c=0;c<n.length;c++)r(n[c]);return r}({1:[function(t,e,a){function n(t){if(!l){var e=$("#container-id").val(),a="",n="";switch(t){case 1:a="restart",n="restarted";break;case 2:a="start",n="started";break;case 3:a="stop",n="stopped";break;default:return}app.func.ajax({type:"POST",url:"/api/container/"+a+"/"+e,success:function(t){var e=t.error?t.error:n+" successfully.";alert(e)}})}}function r(t){var e=$('#refresh-window a[href="#'+t+'"]'),a=e.closest(".btn-group").removeClass("open");u.refresh=t,app.storage.set("refresh-window-stat",t),a.find(".caption").text("refresh / "+e.text()).blur()}function s(t){var e=$('#monitoring-count a[href="#'+t+'"]'),a=e.closest(".btn-group").removeClass("open");u.count=t,app.storage.set("monitoring-count-stat",t),a.find(".caption").text(e.text()).blur()}function c(){u.refresh>0&&ReactDOM.render(React.createElement(d,null),document.getElementById("logs")),setTimeout(c,1e3*Math.max(1,u.refresh))}var o={previous:[],current:[]},u={refresh:app.storage.get("refresh-window-stat",1),count:app.storage.get("monitoring-count-stat",20)},l=!1,i=React.createClass({displayName:"StatTableRow",propTypes:{content:React.PropTypes.object},render:function(){var t=this.props.content.current,e=this.props.content.previous,a=0,n=0,r=0;e&&t.cpu_stats&&(a=t.cpu_stats.cpu_usage.total_usage-e.cpu_stats.cpu_usage.total_usage,n=t.cpu_stats.system_cpu_usage-e.cpu_stats.system_cpu_usage),n>0&&a>0&&(r=100*a/n*t.cpu_stats.cpu_usage.percpu_usage.length);var s="",c={usage:"-",max:"-",limit:"-",percent:0},o={"in":"",out:"",inPacket:"",outPacket:""};return t.read&&(s=t.read.substring(5,19).replace(/-/,"/").replace("T"," "),c={usage:app.func.byteFormat(t.memory_stats.usage),max:app.func.byteFormat(t.memory_stats.max_usage),limit:app.func.byteFormat(t.memory_stats.limit),percent:100*t.memory_stats.usage/t.memory_stats.limit},o={"in":app.func.byteFormat(t.networks.eth0.rx_bytes),out:app.func.byteFormat(t.networks.eth0.tx_bytes),inPacket:t.networks.eth0.rx_packets,outPacket:t.networks.eth0.tx_packets}),React.createElement("tr",null,React.createElement("td",{className:"data-name"},s),React.createElement("td",{className:"data-name"},(r+"").substring(0,4),"%"),React.createElement("td",{className:"data-name"},c.usage," / ",c.max," / ",c.limit),React.createElement("td",{className:"data-name"},(c.percent+"").substring(0,4),"%"),React.createElement("td",{className:"data-name"},o["in"]," / ",o.out),React.createElement("td",{className:"data-name"},o.inPacket," / ",o.outPacket))}}),p=React.createClass({displayName:"StatTable",getInitialState:function(){return{data:{previous:[],current:[]}}},load:function(t){var e=$("#container-id").val(),a=$("#client-id").val();a=a?"?client="+a:"",app.func.ajax({type:"GET",url:"/api/container/stats/"+e+a,success:function(e){e.error?(o.previous=!0,o.current=e):(o.previous=o.current,o.current=e),t.setState({data:o})}})},componentDidMount:function(){this.load(this)},componentWillReceiveProps:function(){this.load(this)},render:function(){var t=this.state.data,e=[];return $.map(t.current,function(a,n){e.push(React.createElement(i,{key:n,content:{previous:t.previous[n],current:a}}))}),React.createElement("table",{className:"table table-striped table-hover"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Time"),React.createElement("th",null,"CPU %"),React.createElement("th",null,"MEM USAGE / MAX / LIMIT"),React.createElement("th",null,"MEM %"),React.createElement("th",null,"NET I/O"),React.createElement("th",null,"NET I/O (packet)"))),React.createElement("tbody",null,e))}}),m=React.createClass({displayName:"LogTableRow",propTypes:{content:React.PropTypes.object},render:function(){var t=this.props.content;return React.createElement("tr",null,React.createElement("td",{className:"data-name no-wrap"},t.time),React.createElement("td",{className:"data-name"},t.type),React.createElement("td",{className:"data-name"},t.log.replace(/\[[0-9]+m/g,"")))}}),d=React.createClass({displayName:"LogTable",getInitialState:function(){return{data:[]}},load:function(t){var e=$("#container-id").val(),a=$("#client-id").val(),n={count:u.count};a&&(n.client=a),app.func.ajax({type:"GET",url:"/api/container/logs/"+e,data:n,success:function(e){if(e.error)return void t.setState({data:[]});var a=[];$.map(e.stdout,function(t){a.push({type:"stdlog",key:t.substring(0,30),time:t.substring(11,19),log:t.substring(31)})}),$.map(e.stderr,function(t){a.push({type:"stderr",key:t.substring(0,30),time:t.substring(11,19),log:t.substring(31)})}),a.sort(function(t,e){var a=new Date(t.key.substring(0,19)+"Z")-new Date(e.key.substring(0,19)+"Z");return 0!=a?a:parseInt(t.key.substring(20),10)-parseInt(e.key.substring(20),10)}),t.setState({data:a}),$(".logs").fadeIn()}})},componentDidMount:function(){this.load(this)},componentWillReceiveProps:function(){this.load(this)},render:function(){var t=[];return this.state.data.map(function(e,a){e.log&&t.push(React.createElement(m,{key:a,content:e}))}),React.createElement("table",{className:"table table-striped table-hover"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Time"),React.createElement("th",null,"Type"),React.createElement("th",null,"Log"))),React.createElement("tbody",null,t))}});$(document).ready(function(){$("#menu-logs").addClass("active"),l="true"==$("#mode-view-only").val(),$("#actions>.btn-default").hover(function(){$(this).addClass($(this).attr("data-hover"))},function(){$(this).removeClass($(this).attr("data-hover"))}).click(function(t){n(parseInt($(this).blur().attr("href").substring(1),10)),app.func.stop(t)}),r(u.refresh),$("#refresh-window a").click(function(t){r(parseInt($(this).attr("href").substring(1),10)),app.func.stop(t)}),s(u.count),$("#monitoring-count a").click(function(t){s(parseInt($(this).attr("href").substring(1),10)),app.func.stop(t)}),setInterval(function(){ReactDOM.render(React.createElement(p,null),document.getElementById("statistics"))},1e3),ReactDOM.render(React.createElement(p,null),document.getElementById("statistics")),c()})},{}]},{},[1]);