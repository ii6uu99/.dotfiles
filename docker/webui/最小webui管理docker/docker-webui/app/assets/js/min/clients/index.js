!function e(t,n,a){function c(r,l){if(!n[r]){if(!t[r]){var o="function"==typeof require&&require;if(!l&&o)return o(r,!0);if(i)return i(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var s=n[r]={exports:{}};t[r][0].call(s.exports,function(e){var n=t[r][1][e];return c(n?n:e)},s,s.exports,e,t,n,a)}return n[r].exports}for(var i="function"==typeof require&&require,r=0;r<a.length;r++)c(a[r]);return c}({1:[function(e,t,n){function a(e){var t={endpoint:e,cert:""};app.func.ajax({type:"POST",url:"/api/client/",data:t,dataType:"html",success:function(){ReactDOM.render(React.createElement(d,null),document.getElementById("data"))},error:function(e,t,n){var a=e&&e.responseText?e.responseText:n;alert(a)}})}function c(e){app.func.ajax({type:"DELETE",url:"/api/client/"+e,dataType:"html",success:function(){ReactDOM.render(React.createElement(d,null),document.getElementById("data"))}})}function i(e,t,n){var a=n?n:"";return e?($.map(e,function(e){e.split("=")[0]==t&&(a=e.split("=")[1])}),a):a}function r(e){for(var t=new FormData,n=0;n<e.length;n++)t.append("files[]",e[n]);$.ajax({type:"POST",url:"/clients/import",data:t,processData:!1,contentType:!1,success:function(){ReactDOM.render(React.createElement(d,null),document.getElementById("data"))}})}var l=!1;$(document).ready(function(){$("#menu-clients").addClass("active"),$("#client-detail pre").css({height:$(window).height()-200+"px"}),l="true"==$("#mode-view-only").val(),$("#add-client").on("show.bs.modal",function(){$("#endpoint").val("")}),$("#add-client").on("shown.bs.modal",function(){$("#endpoint").focus()}),$("#add-client .act-add").click(function(){var e=app.func.trim($("#endpoint").val());return 0==e.length?void $("#endpoint").focus():($("#add-client").modal("hide"),void a(e))}),$(".container").bind("drop",function(e){r(e.originalEvent.dataTransfer.files),app.func.stop(e)}).bind("dragenter",function(e){app.func.stop(e)}).bind("dragover",function(e){app.func.stop(e)})});var o=React.createClass({displayName:"TableRow",propTypes:{content:React.PropTypes.object.isRequired},handleDetail:function(){var e=$(ReactDOM.findDOMNode(this)).closest("tr"),t=e.find(".endpoint").text(),n=e.find(".cert").text(),a={endpoint:t,cert:n},c=$("#client-detail");app.func.ajax({type:"GET",url:"/api/client/",data:a,success:function(e){c.find(".detail-title").text(t),c.find(".details").text(JSON.stringify(e,!0," ")),c.modal("show")}})},handleDelete:function(){var e=$(ReactDOM.findDOMNode(this)).closest("tr"),t=e.attr("data-client-id"),n=e.find(".endpoint").text();window.confirm("Are you sure to remove the client?\nEndpoint: "+n)&&c(t)},render:function(){var e=this,t=this.props.content.client,n=this.props.content.info,a=this.props.content.version;return React.createElement("tr",{"data-client-id":t.id},React.createElement("td",{className:"data-index endpoint"},React.createElement("a",{onClick:e.handleDetail,style:{outline:"none",textDecoration:"none"}},t.endpoint)),React.createElement("td",{className:"data-index"},n.Containers),React.createElement("td",{className:"data-index cert",style:{display:"none"}},t.certPath),React.createElement("td",{className:"data-index"},n.Name),React.createElement("td",{className:"data-index"},i(a,"Version")),React.createElement("td",{className:"data-index"},i(a,"ApiVersion")),React.createElement("td",{className:"data-index"},t.isActive?"yes":"no"),l?"":function(){return React.createElement("td",{style:{width:"60px"}},React.createElement("a",{className:"btn btn-danger",onClick:e.handleDelete},"Ã—"))}())}}),d=React.createClass({displayName:"Table",getInitialState:function(){return{data:[]}},load:function(e){app.func.ajax({type:"GET",url:"/api/clients",success:function(t){$("#count").text(t.length+" client"+(t.length>1?"s":"")),t.sort(function(e,t){return parseInt(i(e.info,"Name"),10)-parseInt(i(t.info,"Name"),10)}),e.setState({data:t})}})},componentDidMount:function(){this.load(this)},componentWillReceiveProps:function(){this.load(this)},render:function(){var e=this.state.data.map(function(e,t){return React.createElement(o,{key:t,content:e})});return React.createElement("table",{className:"table table-striped table-hover"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Endpoint"),React.createElement("th",null,"Containers"),React.createElement("th",null,"Host Name"),React.createElement("th",null,"Version"),React.createElement("th",null,"API Version"),React.createElement("th",null,"Active"),React.createElement("th",null))),React.createElement("tbody",null,e))}});ReactDOM.render(React.createElement(d,null),document.getElementById("data"))},{}]},{},[1]);